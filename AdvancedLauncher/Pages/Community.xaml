<pages:AbstractPage x:Class="AdvancedLauncher.Pages.Community"
             xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
             xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
             xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
             xmlns:env="clr-namespace:AdvancedLauncher.Environment"
             xmlns:Controls="clr-namespace:AdvancedLauncher.Controls"
             xmlns:Validators="clr-namespace:AdvancedLauncher.Validators"
             xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
             xmlns:pages="clr-namespace:AdvancedLauncher.Pages"
             mc:Ignorable="d"
             d:DesignHeight="400" d:DesignWidth="850"
             DataContext="{Binding Source={x:Static env:LanguageEnv.Strings}}">
    <pages:AbstractPage.Resources>
        <ResourceDictionary>
            <ResourceDictionary.MergedDictionaries>
                <ResourceDictionary Source="/AdvancedLauncher;component/Resources/Shared.xaml" />
            </ResourceDictionary.MergedDictionaries>

            <SolidColorBrush x:Key="GlyphBrush" Color="#444" />
            <SolidColorBrush x:Key="WindowBackgroundBrush" Color="#FFF" />

            <Style x:Key="LoadingPB" TargetType="{x:Type ProgressBar}">
                <Setter Property="Template">
                    <Setter.Value>
                        <ControlTemplate TargetType="{x:Type ProgressBar}">
                            <Grid MinWidth="200">
                                <Border Name="PART_Track" CornerRadius="4" Background="Transparent" BorderBrush="#27B0FF" BorderThickness="1" />
                                <Border Name="PART_Indicator" CornerRadius="4" BorderBrush="Transparent" BorderThickness="1" HorizontalAlignment="Left">
                                    <Border.Background>
                                        <LinearGradientBrush EndPoint="0.5,1" StartPoint="0.5,0">
                                            <GradientStop Color="#77CDFF" />
                                            <GradientStop Color="#1396E2" Offset="1" />
                                        </LinearGradientBrush>
                                    </Border.Background>
                                </Border>
                            </Grid>
                        </ControlTemplate>
                    </Setter.Value>
                </Setter>
            </Style>
            <ControlTemplate x:Key="TextBoxErrorTemplate">
                <StackPanel>
                    <StackPanel Orientation="Horizontal">
                        <AdornedElementPlaceholder x:Name="Holder" />
                    </StackPanel>
                </StackPanel>
            </ControlTemplate>
        </ResourceDictionary>
    </pages:AbstractPage.Resources>
    <Grid x:Name="LayoutRoot">
        <GroupBox Width="250" Header="{Binding CommSelect_Guild}" HorizontalAlignment="Left" Margin="10,0,0,10">
            <StackPanel>
                <Grid Margin="10,0">
                    <Grid.ColumnDefinitions>
                        <ColumnDefinition Width="*" />
                        <ColumnDefinition Width="90" />
                    </Grid.ColumnDefinitions>
                    <TextBox Grid.Column="0" x:Name="GuildNameTextBox" Height="20" Foreground="Gray" GotFocus="OnNameGotFocus" LostFocus="OnNameLostFocus" Validation.ErrorTemplate="{StaticResource TextBoxErrorTemplate}">
                        <TextBox.Text>
                            <Binding RelativeSource="{RelativeSource Self}" Path="Tag" Mode="OneWayToSource" UpdateSourceTrigger="PropertyChanged">
                                <Binding.ValidationRules>
                                    <Validators:GuildNameValidationRule />
                                </Binding.ValidationRules>
                            </Binding>
                        </TextBox.Text>
                    </TextBox>
                    <ComboBox Grid.Column="1" x:Name="ComboBoxServer" DisplayMemberPath="Name" Height="20" SelectedIndex="0" />
                </Grid>
                <CheckBox x:Name="chkbox_IsDetailed" Content="{Binding CommCheckBox_Detailed}" Margin="10,4,10,0" IsChecked="False" />
                <Button x:Name="button_getinfo" FontSize="14" Content="{Binding CommButton_Search}" Margin="10,8,10,0" Click="OnGetInfoClick" />
                <Grid x:Name="ProgressBlock" Opacity="0" Margin="10,10,10,0" VerticalAlignment="Bottom">
                    <ProgressBar x:Name="LoadProgressBar" Style="{StaticResource LoadingPB}" Height="20" Value="0" />
                    <TextBlock x:Name="LoadProgressStatus" Margin="0,0,0,2" VerticalAlignment="Center" TextAlignment="Center" FontSize="11" FontFamily="Tahoma" FontStyle="Normal" FontWeight="Normal" HorizontalAlignment="Center" />
                </Grid>
                <TextBlock Text="{Binding CommInformation}" HorizontalAlignment="Center" Margin="20,7" />
                <Grid Margin="10,0">
                    <Grid.ColumnDefinitions>
                        <ColumnDefinition Width="auto" />
                        <ColumnDefinition Width="auto" />
                    </Grid.ColumnDefinitions>
                    <TextBlock Margin="2" Grid.Column="0" Text="{Binding CommGMaster}" />
                    <TextBlock Margin="2" x:Name="GMaster" Grid.Column="1" Text="-" />
                </Grid>
                <Grid Margin="10,0">
                    <Grid.ColumnDefinitions>
                        <ColumnDefinition Width="auto" />
                        <ColumnDefinition Width="auto" />
                    </Grid.ColumnDefinitions>
                    <TextBlock Margin="2" Grid.Column="0" Text="{Binding CommGBest}" />
                    <TextBlock Margin="2" x:Name="GTop" Grid.Column="1" Text="-" />
                </Grid>
                <Grid Margin="10,0">
                    <Grid.ColumnDefinitions>
                        <ColumnDefinition Width="auto" />
                        <ColumnDefinition Width="auto" />
                    </Grid.ColumnDefinitions>
                    <TextBlock Margin="2" Grid.Column="0" Text="{Binding CommGRank}" />
                    <TextBlock Margin="2" x:Name="GRank" Grid.Column="1" Text="-" />
                </Grid>
                <Grid Margin="10,0">
                    <Grid.ColumnDefinitions>
                        <ColumnDefinition Width="auto" />
                        <ColumnDefinition Width="auto" />
                    </Grid.ColumnDefinitions>
                    <TextBlock Margin="2" Grid.Column="0" Text="{Binding CommGRep}" />
                    <TextBlock Margin="2" x:Name="GRep" Grid.Column="1" Text="-" />
                </Grid>
                <Grid Margin="10,0">
                    <Grid.ColumnDefinitions>
                        <ColumnDefinition Width="auto" />
                        <ColumnDefinition Width="auto" />
                    </Grid.ColumnDefinitions>
                    <TextBlock Margin="2" Grid.Column="0" Text="{Binding CommGTCnt}" />
                    <TextBlock Margin="2" x:Name="GTCnt" Grid.Column="1" Text="-" />
                </Grid>
                <Grid Margin="10,0">
                    <Grid.ColumnDefinitions>
                        <ColumnDefinition Width="auto" />
                        <ColumnDefinition Width="auto" />
                    </Grid.ColumnDefinitions>
                    <TextBlock Margin="2" Grid.Column="0" Text="{Binding CommGDCnt}" />
                    <TextBlock Margin="2" x:Name="GDCnt" Grid.Column="1" Text="-" />
                </Grid>
            </StackPanel>
        </GroupBox>
        <Controls:TDBlock x:Name="TDBlock_" Margin="270,0,10,10" />
    </Grid>
</pages:AbstractPage>